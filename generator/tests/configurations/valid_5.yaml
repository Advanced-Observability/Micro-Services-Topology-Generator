frontend:
  type: service
  addr: frontend
  port: 80
  endpoints:
    - entrypoint: /
      respsize: 512
      connections:
        - path: r1->r2->db
          url: /
        - path: checkout
          url: /
r1:
  type: router
  neighbors:
    - r2
r2:
  type: router
  neighbors:
    - db
db:
  type: service
  addr: db
  port: 10001
  endpoints:
    - entrypoint: /
      respsize: 128
checkout:
  type: service
  addr: checkout
  port: 10002
  endpoints:
    - entrypoint: /
      respsize: 256
      connections:
        - path: db
          url: /
